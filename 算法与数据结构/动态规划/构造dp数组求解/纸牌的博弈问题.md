# 纸牌的博弈问题
## 题目
![](_v_images/20190602194234964_1525681711.png =660x)
## 分析
双方都是绝顶聪明的人,所以每个人都会选择对自己最好,对别人最差的拿牌策略,然后同时分为先后,也就是先拿牌和后拿牌,然后我们来看看什么叫做最优
对于一个数组,比如是i------j的序列,先拿的人肯定拿i或者是j,也就是最开始和最结尾
```
arr[i]+ 某个值    或者
arr[j]+ 某个值
```
这个某个值实在i+1-----j或者是i------j-1上面得到的,此时当前先拿的,在i+1-----j或者是i------j-1上面就是后拿的了,我们的积分
```
arr[i]+ i+1------j
arr[j]+ i------j-1
```
上面分析了对于先拿的情况,然后我们来分析一下后拿的人,对于i-----j的数组,我们只能够拿到
i-----j-1
或者是
i+1-------j,我们对于i.....j-1或者是i+1-------j就是先拿的人,我们最后的积分
```
i......j-1
i+1------j
```
然后就是策略上的抉择,绝顶聪明的人,把最好的留给自己,把最差的留给别人,这就是绝顶聪明的含义
我们来分析一个递归函数,返回值肯定是int,我们又知道对于一个人来说,它先拿和后拿是交替发生的
```
                                             对于i----j我是先拿的
                        对于i+1-----j我是后拿的                   对于i-------j-1我是后拿的
           对于i+2------j我是先拿的, 对于i+1-----j-1我是先拿的   ...............
```
对于i+1--------j以及i-------j-1的时候,我们肯定取到的是最差的情况,对于i-----j我们肯定取得的是最好的情况
我们大概可以知道整个代码的流程了,应该是两个递归函数交替进行
## 递归函数的定义
`我们设f(i,j)表示我们在i---j的时候先拿,最后取得的结果`
`设s(i,j)表示我们在i-----j的时候后拿,最后取得的结果`
这样就很清晰了
```
我们看一下先拿的流程
       
              f-------
       s------            ..............
              f------- 
f -----
              f-------
       s------            ...............
              f-------

```
其中因为别人是绝顶聪明的人,它会在两个s的时候给我们最差的最终结果,我们也是绝顶聪明的人,在先取的时候,选一个最终结果最好的.
`f(i,j)=Math.max{arr[i]+s(i+1,j),arr[j]+s(i,j-1)}`
`s(i,j)=Math.min{f(i+1,j),f(i,j-1)}`
## 绝顶聪明的含义
我们在上一小节中,得到了两个最重要的式子
`绝顶聪明`表示我可以看到未来,就是我们知道了所有未来发生的事情,看一下
```
f(i,j)=Math.max{arr[i]+s(i+1,j),arr[j]+s(i,j-1)}
对于这个式子,我们如果做到绝顶聪明呢,我们这个时候抽的是i或者j,我们不会单纯的选择i或者j里面比较大的,而是预见将来的事情,选择一个最好的情况
对手也是聪明的s(i+1,j),s(i,j-1)肯定都是最差
```
```
s(i,j)=Math.min{f(i+1,j),f(i,j-1)}
对于这个式子,我们的对手是绝顶聪明的,它先取完了,他预见了我们f(i+1,j)以及f(i,j-1)的情况,肯定会留给我们其中最少的那个,我们是聪明的,f(i+1,j)以及f(i,j-1)中,我们会选择最好的
```
递归就是正着推,而两个绝顶聪明的人,都是在知道倒着推的情况,然后正着推